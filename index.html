<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Previs√£o do Tempo (API Local)</title>

    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #ecf0f1;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
        }

        .container {
            text-align: center;
            background-color: #fff;
            padding: 25px;
            border-radius: 10px;
            width: 380px;
            box-shadow: 0 0 12px rgba(0,0,0,0.15);
        }

        h1 {
            color: #2c3e50;
        }

        button {
            background-color: #27ae60;
            color: #fff;
            padding: 12px 25px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            margin-top: 15px;
            font-size: 16px;
        }

        button:hover {
            background-color: #219150;
        }

        .mensagem {
            margin-top: 20px;
            font-size: 18px;
        }

        .erro {
            color: #c0392b;
        }

        .sucesso {
            color: #27ae60;
        }
    </style>
</head>
<body>

    <div class="container">
        <h1>üå¶Ô∏è Teste da API de Previs√£o do Tempo</h1>

        <button onclick="verificar()">Verificar Previs√£o</button>

        <div id="resultado" class="mensagem"></div>
    </div>

<script>
    async function verificar() {
        const resultado = document.getElementById("resultado");
        resultado.innerHTML = "‚è≥ Consultando API...";

        try {
            // üëâ URL CORRETA DA SUA API FLASK LOCAL
            const url = "http://127.0.0.1:5000/api/v1/previsao";

            const resposta = await fetch(url);
            if (!resposta.ok) {
                throw new Error("Erro HTTP: " + resposta.status);
            }

            const dados = await resposta.json();

            if (dados.vai_chover) {
                resultado.innerHTML = `‚òî Vai chover! Probabilidade: <b>${dados.probabilidade * 100}%</b>`;
                resultado.className = "mensagem sucesso";
            } else {
                resultado.innerHTML = `üå§Ô∏è N√£o vai chover. Probabilidade: <b>${dados.probabilidade * 100}%</b>`;
                resultado.className = "mensagem sucesso";
            }

        } catch (erro) {
            resultado.innerHTML = "‚ùå Erro ao conectar √† API local.<br>" + erro;
            resultado.className = "mensagem erro";
        }
    }
</script>

</body>
</html>

